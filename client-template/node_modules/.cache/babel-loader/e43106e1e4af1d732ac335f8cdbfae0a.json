{"ast":null,"code":"var _jsxFileName = \"/Users/viviannwang/Desktop/ProductApp-1/client-template/src/pages/admin/UpdateItem.js\",\n    _s = $RefreshSig$();\n\n// VG del\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Form from \"../../components/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UpdateItem({\n  match\n}) {\n  _s();\n\n  const [item, setItem] = useState({});\n  const history = useHistory();\n  useEffect(() => {\n    fetchProduct();\n  }, []);\n\n  const fetchProduct = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/products/\" + match.params.id);\n      const data = await response.json();\n      setItem(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleChange = e => {\n    const name = e.target.name;\n    setItem({ ...item,\n      [name]: e.target.value\n    });\n  };\n\n  console.log(item);\n\n  const updateProduct = async e => {\n    e.preventDefault();\n\n    try {\n      await fetch(\"http://localhost:5000/products/\" + item._id, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(item)\n      }); //redirection\n\n      history.push(\"/manage-products\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      updateProduct: updateProduct,\n      handleChange: handleChange,\n      item: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: updateProduct,\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/manage-products\",\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(UpdateItem, \"43l2RN9gxtUworjIV8WGqFznX38=\", false, function () {\n  return [useHistory];\n});\n\n_c = UpdateItem;\nexport default UpdateItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateItem\");","map":{"version":3,"sources":["/Users/viviannwang/Desktop/ProductApp-1/client-template/src/pages/admin/UpdateItem.js"],"names":["React","useState","useEffect","Link","useHistory","Form","UpdateItem","match","item","setItem","history","fetchProduct","response","fetch","params","id","data","json","error","console","log","handleChange","e","name","target","value","updateProduct","preventDefault","_id","method","headers","body","JSON","stringify","push"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;;;AAEA,SAASC,UAAT,CAAoB;AAAEC,EAAAA;AAAF,CAApB,EAA+B;AAAA;;AAC7B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMS,OAAO,GAAGN,UAAU,EAA1B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,YAAY,GAAG,YAAY;AAC/B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,oCAAoCN,KAAK,CAACO,MAAN,CAAaC,EADvB,CAA5B;AAGA,YAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AAEAR,MAAAA,OAAO,CAACO,IAAD,CAAP;AACD,KAPD,CAOE,OAAOE,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAXD;;AAYA,QAAMG,YAAY,GAAIC,CAAD,IAAO;AAC1B,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;AACAd,IAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAEN,OAACe,IAAD,GAAQD,CAAC,CAACE,MAAF,CAASC;AAFX,KAAD,CAAP;AAID,GAND;;AAOAN,EAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;;AACA,QAAMkB,aAAa,GAAG,MAAOJ,CAAP,IAAa;AACjCA,IAAAA,CAAC,CAACK,cAAF;;AACA,QAAI;AACF,YAAMd,KAAK,CAAC,oCAAoCL,IAAI,CAACoB,GAA1C,EAA+C;AACxDC,QAAAA,MAAM,EAAE,OADgD;AAExDC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAF+C;AAKxDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAezB,IAAf;AALkD,OAA/C,CAAX,CADE,CAQF;;AACAE,MAAAA,OAAO,CAACwB,IAAR,CAAa,kBAAb;AACD,KAVD,CAUE,OAAOhB,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAfD;;AAgBA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,IAAD;AACE,MAAA,aAAa,EAAEQ,aADjB;AAEE,MAAA,YAAY,EAAEL,YAFhB;AAGE,MAAA,IAAI,EAAEb;AAHR;AAAA;AAAA;AAAA;AAAA,YAHF,eAQE;AAAQ,MAAA,OAAO,EAAEkB,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,eASE;AAAA;AAAA;AAAA;AAAA,YATF,eAUE;AAAA;AAAA;AAAA;AAAA,YAVF,eAWE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAXF;AAAA,kBADF;AAeD;;GA3DQpB,U;UAESF,U;;;KAFTE,U;AA4DT,eAAeA,UAAf","sourcesContent":["// VG del\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Form from \"../../components/Form\";\n\nfunction UpdateItem({ match }) {\n  const [item, setItem] = useState({});\n  const history = useHistory();\n\n  useEffect(() => {\n    fetchProduct();\n  }, []);\n\n  const fetchProduct = async () => {\n    try {\n      const response = await fetch(\n        \"http://localhost:5000/products/\" + match.params.id\n      );\n      const data = await response.json();\n\n      setItem(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleChange = (e) => {\n    const name = e.target.name;\n    setItem({\n      ...item,\n      [name]: e.target.value,\n    });\n  };\n  console.log(item);\n  const updateProduct = async (e) => {\n    e.preventDefault();\n    try {\n      await fetch(\"http://localhost:5000/products/\" + item._id, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(item),\n      });\n      //redirection\n      history.push(\"/manage-products\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return (\n    <>\n      <h1>Update Product</h1>\n\n      <Form\n        updateProduct={updateProduct}\n        handleChange={handleChange}\n        item={item}\n      />\n      <button onClick={updateProduct}>Update</button>\n      <br />\n      <br />\n      <Link to=\"/manage-products\">Back</Link>\n    </>\n  );\n}\nexport default UpdateItem;\n"]},"metadata":{},"sourceType":"module"}